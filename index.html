<!doctype html>
<html lang="fa" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ú¯Ø§Ù„Ø±ÛŒ Ù†Ø³Ø±ÛŒÙ† Ù‡ÙˆÛŒØ¯Ø§ â€” Ø·Ø±Ø§Ø­ÛŒ Ùˆ Ù¾ÙˆØ±ØªÙÙˆÙ„ÛŒÙˆ</title>
<meta name="description" content="Ú¯Ø§Ù„Ø±ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ† Ø¢Ø«Ø§Ø± Ù†Ø³Ø±ÛŒÙ† Ù‡ÙˆÛŒØ¯Ø§ â€” Ø·Ø±Ø§Ø­ÛŒØŒ Ù‡Ø§Ø´ÙˆØ±ØŒ Ø¢Ø¨Ø±Ù†Ú¯ Ùˆ Ù…Ø¯Ù„ Ø²Ù†Ø¯Ù‡" />

<style>
  :root{
    --bg: #fbfaf8;
    --card: #fff;
    --muted: #6b7280;
    --accent: #0b84ff;
    --accent-2: #04bfb0;
    --paper: #f6f2ee;
    --radius: 14px;
    --gap: 16px;
    font-family: "Vazirmatn", "IRANSans", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  *{box-sizing:border-box}
  body{
    margin:0; background:linear-gradient(180deg, #fff, var(--paper)); color:#111827;
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
    padding:28px;
  }

  .container{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:320px 1fr;gap:22px;align-items:start}

  /* SIDEBAR */
  .sidebar{
    background:var(--card);padding:18px;border-radius:12px;border:1px solid #efe9e0;
    box-shadow:0 8px 26px rgba(12,18,24,0.04);
  }
  .prof{display:flex;gap:14px;align-items:center}
  .prof img{width:92px;height:92px;border-radius:999px;object-fit:cover;border:4px solid #fff;box-shadow:0 8px 18px rgba(0,0,0,0.06)}
  h1{margin:0;font-size:20px}
  .role{color:var(--muted);font-size:13px;margin-top:2px}

  .bio{margin-top:12px;color:var(--muted);font-size:14px;line-height:1.6}
  .contact{margin-top:12px;color:var(--muted);font-size:13px}
  .contact a{color:var(--accent);text-decoration:none}

  .tags{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}
  .tag{background:#fff;padding:8px 10px;border-radius:999px;border:1px solid #f1ece7;color:var(--muted);font-weight:700;font-size:12px}

  /* NAV for categories */
  .cats{display:flex;flex-direction:column;gap:8px;margin-top:14px}
  .cat-btn{display:block;text-align:center;padding:10px;border-radius:10px;border:1px solid #efe9e0;background:linear-gradient(90deg,#fff,#fbfbfb);font-weight:700;color:#0f1724;cursor:pointer}
  .cat-btn.active{background:linear-gradient(90deg,var(--accent-2),var(--accent));color:#fff;box-shadow:0 10px 30px rgba(11,132,255,0.08)}

  /* MAIN */
  main{min-height:600px}
  .header-main{
    margin-bottom:12px; display:flex;align-items:end;justify-content:space-between;gap:12px;
  }
  .title-main{font-size:22px;font-weight:800;margin:0}
  .subtitle{color:var(--muted);font-size:14px}

  /* masonry gallery using CSS columns */
  .masonry{
    column-width: 280px;
    column-gap: var(--gap);
    padding-bottom:40px;
  }
  .item{
    break-inside: avoid;
    margin:0 0 var(--gap) 0;
    background:var(--card);border-radius:12px;overflow:hidden;border:1px solid #efe9e0;box-shadow:0 10px 30px rgba(12,18,24,0.04);
  }
  .item .imgwrap{position:relative;width:100%;height:auto;background:linear-gradient(135deg,#f8fcff,#fff)}
  .item img{width:100%;height:auto;display:block;object-fit:cover}
  .caption{padding:10px 12px;font-size:13px;color:var(--muted)}

  /* grid placeholders when empty */
  .empty{padding:28px;color:var(--muted);text-align:center}

  /* Lightbox */
  .lightbox{
    position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(8,12,20,0.8);z-index:9999;padding:24px;
  }
  .lightbox.show{display:flex}
  .lb-inner{max-width:1200px;width:100%;border-radius:12px;overflow:hidden;background:#0b1316;display:flex;flex-direction:column}
  .lb-top{display:flex;align-items:center;justify-content:space-between;padding:10px 14px}
  .lb-top .title{color:#fff;font-weight:800}
  .lb-top .controls{display:flex;gap:8px}
  .btn{background:transparent;border:0;color:#fff;padding:8px 10px;border-radius:8px;cursor:pointer;font-weight:700}
  .btn.primary{background:var(--accent);padding:10px 12px;border-radius:8px}
  .lb-media{display:flex;align-items:center;justify-content:center;background:#000;min-height:60vh}
  .lb-media img{max-width:100%;max-height:82vh;object-fit:contain}
  .lb-caption{padding:12px 16px;color:#cfe8ff;background:linear-gradient(90deg,rgba(255,255,255,0.01),transparent);font-size:14px}

  footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px}

  /* responsive */
  @media (max-width:980px){
    .container{grid-template-columns:1fr}
    .masonry{column-width:210px}
  }
  @media (max-width:480px){
    .masonry{column-width:160px}
  }
</style>
</head>
<body>
  <div class="container">
    <!-- SIDEBAR -->
    <aside class="sidebar" aria-label="Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù‡Ù†Ø±Ù…Ù†Ø¯">
      <div class="prof">
        <img id="profileImg" src="nasrin_profile.jpg" alt="Ù†Ø³Ø±ÛŒÙ† Ù‡ÙˆÛŒØ¯Ø§">
        <div>
          <h1>Ù†Ø³Ø±ÛŒÙ† Ù‡ÙˆÛŒØ¯Ø§</h1>
          <div class="role">Ø·Ø±Ø§Ø­ Ùˆ Ù…Ø¯Ø±Ø³ Ø·Ø±Ø§Ø­ÛŒ Ø¢Ú©Ø§Ø¯Ù…ÛŒÚ©</div>
        </div>
      </div>

      <p class="bio">ØªÙ…Ø±Ú©Ø² Ù…Ù† Ø¨Ø± Ø®Ù„Ù‚ Ø¢Ø«Ø§Ø± Ù†ÙˆØ¢ÙˆØ±Ø§Ù†Ù‡ Ø¯Ø± Ø·Ø±Ø§Ø­ÛŒ Ùˆ Ù¾Ø±ÙˆØ±Ø´ Ø¨ÛŒØ§Ù† Ø´Ø®ØµÛŒ Ù‡Ù†Ø±Ø¬Ùˆ Ø§Ø³Øª. Ø¯Ø± Ø¢Ø«Ø§Ø± Ùˆ Ø¢Ù…ÙˆØ²Ø´â€ŒÙ‡Ø§ÛŒÙ… ØªÙ…Ø±Ú©Ø² Ø¨Ø± Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¯Ù‚ÛŒÙ‚ØŒ ØªØ­Ù„ÛŒÙ„ Ø³Ø§Ø®ØªØ§Ø±ÛŒ Ùˆ ØªÙ…Ø±ÛŒÙ† ØªÚ©Ù†ÛŒÚ©ÛŒ Ø§Ø³Øª ØªØ§ Ø·Ø±Ø§Ø­ÛŒ Ø§Ø² Ù‚Ø§Ù„Ø¨ Ø³Ù†ØªÛŒ ÙØ±Ø§ØªØ± Ø±ÙˆØ¯.</p>

      <div class="contact">
        <div>ğŸ“ 09196869919</div>
        <div>âœ‰ï¸ <a href="mailto:nasrin.howaida@gmail.com">nasrin.howaida@gmail.com</a></div>
      </div>

      <div class="tags">
        <span class="tag">Ù¾Ø±ØªØ±Ù‡</span>
        <span class="tag">ÙÛŒÚ¯ÙˆØ±</span>
        <span class="tag">Ø¢Ø¨Ø±Ù†Ú¯</span>
        <span class="tag">Ù‡Ø§Ø´ÙˆØ±</span>
      </div>

      <div class="cats" id="catsContainer" aria-label="Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¢Ø«Ø§Ø±">
        <!-- buttons injected by JS -->
      </div>
    </aside>

    <!-- MAIN -->
    <main>
      <div class="header-main">
        <div>
          <h2 class="title-main">Ú¯Ø§Ù„Ø±ÛŒ Ø¢Ø«Ø§Ø± â€” Ù†Ø³Ø±ÛŒÙ† Ù‡ÙˆÛŒØ¯Ø§</h2>
          <div class="subtitle">Ø·Ø±Ø§Ø­ÛŒ | Ø³Ø¨Ú© Ù…Ø¯Ø±Ù† Ù‡Ø§Ø´ÙˆØ± | Ø®Ù„Ø§Ù‚Ø§Ù†Ù‡ Ùˆ Ø¢Ø¨Ø±Ù†Ú¯ | Ù…Ø¯Ù„ Ù‡Ø§ÛŒ Ø²Ù†Ø¯Ù‡ Ùˆ ÙÛŒÚ¯ÙˆØ±Ø§ØªÛŒÙˆ</div>
        </div>
        <div style="align-self:flex-start">
          <button id="downloadAll" class="btn primary" title="Ø¯Ø§Ù†Ù„ÙˆØ¯ ØªØµØ§ÙˆÛŒØ± Ù…Ù†ØªØ®Ø¨">Ø¯Ø§Ù†Ù„ÙˆØ¯</button>
        </div>
      </div>

      <section id="gallery" class="masonry" aria-live="polite">
        <div class="empty">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¢Ø«Ø§Ø± ...</div>
      </section>
    </main>
  </div>

  <!-- LIGHTBOX -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lb-inner" role="dialog" aria-modal="true">
      <div class="lb-top">
        <div class="title" id="lbTitle"> </div>
        <div class="controls">
          <button class="btn" id="prevBtn">â—€</button>
          <button class="btn" id="nextBtn">â–¶</button>
          <a id="dlBtn" class="btn primary" href="#" download>Ø¯Ø§Ù†Ù„ÙˆØ¯</a>
          <button class="btn" id="closeBtn">âœ•</button>
        </div>
      </div>
      <div class="lb-media"><img id="lbImage" src="" alt=""></div>
      <div class="lb-caption" id="lbCaption"></div>
    </div>
  </div>

<script>
/* ====== ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ùˆ Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§ (ØªØºÛŒÛŒØ± Ù†Ø¯Ù‡ Ù…Ú¯Ø± Ù„Ø§Ø²Ù… Ø§Ø³Øª) ====== */
const categories = [
  { key: "tarahi", title: "Ø·Ø±Ø§Ø­ÛŒ", folder: "Ø·Ø±Ø§Ø­ÛŒ" },
  { key: "hashour", title: "Ø³Ø¨Ú© Ù…Ø¯Ø±Ù† Ù‡Ø§Ø´ÙˆØ±", folder: "Ø³Ø¨Ú© Ù…Ø¯Ø±Ù† Ù‡Ø§Ø´ÙˆØ±" },
  { key: "abrang", title: "Ø®Ù„Ø§Ù‚Ø§Ù†Ù‡ Ùˆ Ø¢Ø¨Ø±Ù†Ú¯", folder: "Ø®Ù„Ø§Ù‚Ø§Ù†Ù‡ Ùˆ Ø¢Ø¨Ø±Ù†Ú¯" },
  { key: "model", title: "Ù…Ø¯Ù„ Ù‡Ø§ÛŒ Ø²Ù†Ø¯Ù‡ Ùˆ ÙÛŒÚ¯ÙˆØ±Ø§ØªÛŒÙˆ", folder: "Ù…Ø¯Ù„ Ù‡Ø§ÛŒ Ø²Ù†Ø¯Ù‡ Ùˆ ÙÛŒÚ¯ÙˆØ±Ø§ØªÛŒÙˆ" },
];

const galleryEl = document.getElementById('gallery');
const catsContainer = document.getElementById('catsContainer');

const MAX_SCAN = 40;            // ØªÙ„Ø§Ø´ Ø¹Ø¯Ø¯ÛŒ: 1..MAX_SCAN
const LONGNAME_START = 46200;   // Ø­Ø¯ÙˆØ¯ÛŒ Ú©Ù‡ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø·ÙˆÙ„Ø§Ù†ÛŒ ØªÙˆ Ø¯Ø± Ø¢Ù† Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ù†Ø¯
const LONGNAME_END = 46450;
const exts = ["jpg","jpeg","png","webp"];

/* ===== Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§ ===== */
categories.forEach((c, i) => {
  const btn = document.createElement('button');
  btn.textContent = c.title;
  btn.className = 'cat-btn' + (i===0 ? ' active' : '');
  btn.onclick = () => {
    document.querySelectorAll('.cat-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    renderCategory(c.key);
  };
  catsContainer.appendChild(btn);
});

/* ===== Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ ØªØµØ§ÙˆÛŒØ± Ù¾ÛŒØ¯Ø§ Ø´Ø¯Ù‡ ===== */
const images = {}; // images[catKey] = [{src, title, filename}, ...]

/* ===== Ú©Ù…Ú©â€ŒØªØ§Ø¨Ø¹: build URL Ø¯Ø±Ø³Øª Ø¨Ø§ encodeURIComponent Ø¨Ø±Ø§ÛŒ Ù†Ø§Ù… Ù¾ÙˆØ´Ù‡ ÙØ§Ø±Ø³ÛŒ ===== */
function buildPath(folder, filename){
  // encode each segment, but keep '/' between.
  return encodeURIComponent(folder) + '/' + encodeURIComponent(filename);
}

/* ===== ØªÙ„Ø§Ø´ Ø¨Ø±Ø§ÛŒ ÙˆØ¬ÙˆØ¯ ÙØ§ÛŒÙ„ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Image object ===== */
function tryLoad(src){
  return new Promise(resolve=>{
    const img = new Image();
    img.onload = ()=> resolve({ok:true, src});
    img.onerror = ()=> resolve({ok:false, src});
    // add small cache-buster for GH in rare cases
    img.src = src;
  });
}

/* ===== Ø§Ø³Ú©Ù† ÛŒÚ© Ù¾ÙˆØ´Ù‡: 1) Ø§Ú¯Ø± manifest.json Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ø´Ø¯ Ø§Ø² Ø¢Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
       2) Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±Øª: ØªÙ„Ø§Ø´ Ø¹Ø¯Ø¯ÛŒ 1..MAX_SCAN
       3) Ø³Ù¾Ø³ ØªÙ„Ø§Ø´ Ø¨Ø±Ø§ÛŒ Ø§Ø³Ú©Ù† Ù†Ø§Ù…â€ŒÙ‡Ø§ÛŒ Ø·ÙˆÙ„Ø§Ù†ÛŒ Ø¯Ø± Ø¨Ø§Ø²Ù‡ LONGNAME_START..LONGNAME_END
===== */
async function scanFolder(catKey){
  const cat = categories.find(c=>c.key===catKey);
  images[catKey] = [];

  // 1) ØªÙ„Ø§Ø´ Ø¨Ø±Ø§ÛŒ manifest.json
  try {
    const manifestPath = buildPath(cat.folder, 'manifest.json');
    const r = await fetch(manifestPath);
    if(r.ok){
      const list = await r.json();
      // list should be array of filenames
      for(const fname of list){
        for(const extTry of exts){
          const trial = (fname.toLowerCase().endsWith(extTry) ? fname : fname);
          const path = buildPath(cat.folder, trial);
          const res = await tryLoad(path);
          if(res.ok){ images[catKey].push({src:path,title:`${cat.title}`,filename:trial}); break; }
        }
      }
      return;
    }
  } catch(e){
    // ignore
  }

  // 2) ØªÙ„Ø§Ø´ Ø¹Ø¯Ø¯ÛŒ Ø³Ø§Ø¯Ù‡
  for(let i=1;i<=MAX_SCAN;i++){
    let found = false;
    for(const ext of exts){
      const fname = `${i}.${ext}`;
      const path = buildPath(cat.folder, fname);
      const res = await tryLoad(path);
      if(res.ok){
        images[catKey].push({src:path,title: `${cat.title} â€” ${i}`, filename: fname});
        found = true; break;
      }
    }
    // Ø§Ø¯Ø§Ù…Ù‡ Ø­ØªÛŒ Ø§Ú¯Ø± Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯Ø› Ù…Ù…Ú©Ù† Ø´Ù…Ø§Ø±Ù‡â€ŒÙ‡Ø§ Ú¯Ø³Ø³ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯
  }

  // 3) ØªÙ„Ø§Ø´ Ù†Ø§Ù…â€ŒÙ‡Ø§ÛŒ Ø·ÙˆÙ„Ø§Ù†ÛŒ (pattern shown Ø¯Ø± screenshots)
  for(let n=LONGNAME_START; n<=LONGNAME_END; n++){
    for(const ext of exts){
      const fname = `58732074852655_${n}.${ext}`; // pattern seen in your uploads
      const path = buildPath(cat.folder, fname);
      // await in small batches to avoid blocking too long
      const res = await tryLoad(path);
      if(res.ok){
        images[catKey].push({src:path,title:`${cat.title} â€” ${n}`,filename: fname});
      }
    }
  }
}

/* ===== Ø§Ø³Ú©Ù† ØªÙ…Ø§Ù… Ù¾ÙˆØ´Ù‡â€ŒÙ‡Ø§ (Ù…ØªÙˆØ§Ù„ÛŒ) ===== */
async function scanAll(){
  galleryEl.innerHTML = '<div class="empty">Ø¯Ø± Ø­Ø§Ù„ Ø§Ø³Ú©Ù† Ù¾ÙˆØ´Ù‡â€ŒÙ‡Ø§ Ùˆ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªØµØ§ÙˆÛŒØ± ...</div>';
  for(const c of categories){
    await scanFolder(c.key);
  }
  // Ø¨Ø¹Ø¯ Ø§Ø² Ø§Ø³Ú©Ù†ØŒ Ù†Ù…Ø§ÛŒØ´ Ø§ÙˆÙ„ÛŒÙ† Ø¯Ø³ØªÙ‡
  renderCategory(categories[0].key);
}

/* ===== Ø±Ù†Ø¯Ø± ÛŒÚ© Ø¯Ø³ØªÙ‡ ===== */
function renderCategory(catKey){
  galleryEl.innerHTML = '';
  const arr = images[catKey] || [];
  if(arr.length===0){
    galleryEl.innerHTML = '<div class="empty">ÙØ¹Ù„Ø§Ù‹ ØªØµÙˆÛŒØ±ÛŒ Ø¯Ø± Ø§ÛŒÙ† Ø¯Ø³ØªÙ‡ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª. ØªØµÙˆÛŒØ±Ø§ Ø±Ø§ Ø¯Ø± Ù¾ÙˆØ´Ù‡ Ù…Ø±Ø¨ÙˆØ·Ù‡ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù† ÛŒØ§ ÛŒÚ© manifest.json Ø­Ø§ÙˆÛŒ Ù†Ø§Ù… ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ù‚Ø±Ø§Ø± Ø¨Ø¯Ù‡.</div>';
    return;
  }
  for(let i=0;i<arr.length;i++){
    const it = arr[i];
    const item = document.createElement('article');
    item.className = 'item';
    const wrap = document.createElement('div');
    wrap.className = 'imgwrap';

    const img = document.createElement('img');
    // use decoded URL for browser; encodeURIComponent used earlier on path segments,
    // but browser needs percent-encoded segments; buildPath returned encoded segments already
    img.src = it.src;
    img.alt = it.title;
    img.loading = 'lazy';

    // placeholder text (visible until image loads)
    const ph = document.createElement('div');
    ph.className = 'ph';
    ph.style.display='none';
    ph.textContent = it.title;

    wrap.appendChild(img);
    wrap.appendChild(ph);

    const cap = document.createElement('div');
    cap.className = 'caption';
    cap.textContent = it.title;

    item.appendChild(wrap);
    item.appendChild(cap);

    // click to open lightbox
    item.addEventListener('click', ()=> openLightbox(catKey, i));
    galleryEl.appendChild(item);

    img.onload = ()=> { if(ph) ph.style.display='none'; }
    img.onerror = ()=> { if(ph){ ph.style.display='flex'; img.style.display='none'; } }
  }
}

/* ===== Lightbox ===== */
const lb = document.getElementById('lightbox');
const lbImage = document.getElementById('lbImage');
const lbTitle = document.getElementById('lbTitle');
const lbCaption = document.getElementById('lbCaption');
const dlBtn = document.getElementById('dlBtn');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const closeBtn = document.getElementById('closeBtn');

let current = {cat:null, idx:0};

function openLightbox(catKey, idx){
  const arr = images[catKey] || [];
  if(!arr[idx]) return;
  current.cat = catKey; current.idx = idx;
  const it = arr[idx];
  lbImage.src = it.src;
  lbTitle.textContent = categories.find(c=>c.key===catKey).title;
  lbCaption.textContent = `${it.filename || ''}`;
  dlBtn.href = it.src;
  lb.classList.add('show');
  document.body.style.overflow='hidden';
}

function closeLightbox(){
  lb.classList.remove('show');
  lbImage.src = '';
  document.body.style.overflow='';
}

function showNext(){
  const arr = images[current.cat] || [];
  if(arr.length===0) return;
  current.idx = (current.idx+1) % arr.length;
  openLightbox(current.cat, current.idx);
}
function showPrev(){
  const arr = images[current.cat] || [];
  if(arr.length===0) return;
  current.idx = (current.idx-1+arr.length) % arr.length;
  openLightbox(current.cat, current.idx);
}

nextBtn.addEventListener('click', showNext);
prevBtn.addEventListener('click', showPrev);
closeBtn.addEventListener('click', closeLightbox);
lb.addEventListener('click', e=> { if(e.target === lb) closeLightbox(); });
document.addEventListener('keydown', e=> {
  if(!lb.classList.contains('show')) return;
  if(e.key === 'ArrowRight') showNext();
  if(e.key === 'ArrowLeft') showPrev();
  if(e.key === 'Escape') closeLightbox();
});

/* ===== Download all visible (Ù†Ù…ÙˆÙ†Ù‡ Ø³Ø§Ø¯Ù‡: Ø§ÛŒØ¬Ø§Ø¯ Ø¢Ø±Ø´ÛŒÙˆ Ù†ÛŒØ³ØªØ› Ù„ÛŒÙ†Ú© Ø¨Ù‡ Ø§ÙˆÙ„ÛŒÙ† ØªØµÙˆÛŒØ±) ===== */
document.getElementById('downloadAll').addEventListener('click', ()=>{
  const active = document.querySelector('.cat-btn.active');
  if(!active){ alert('Ø§Ø¨ØªØ¯Ø§ ÛŒÚ© Ø¯Ø³ØªÙ‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.'); return; }
  const key = categories.find(c=>c.title===active.textContent)?.key;
  const arr = images[key] || [];
  if(arr.length===0){ alert('ØªØµÙˆÛŒØ±ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª.'); return; }
  // Ø³Ø§Ø¯Ù‡: Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§ÙˆÙ„ÛŒÙ† ØªØµÙˆÛŒØ± (Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø¨Ø§ÛŒØ¯ ZIP Ø³Ø§Ø®ØªÙ‡ Ùˆ Ø¢Ù¾Ù„ÙˆØ¯ Ø´ÙˆØ¯)
  location.href = arr[0].src;
});

/* ===== Ø´Ø±ÙˆØ¹ Ø§Ø³Ú©Ù† ===== */
scanAll();
</script>
</body>
</html>
