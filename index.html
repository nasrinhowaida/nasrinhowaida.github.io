<!doctype html>
<html lang="fa" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ú¯Ø§Ù„Ø±ÛŒ Ù†Ø³Ø±ÛŒÙ† Ù‡ÙˆÛŒØ¯Ø§ â€” Ø·Ø±Ø§Ø­ÛŒ Ùˆ Ù¾ÙˆØ±ØªÙÙˆÙ„ÛŒÙˆ</title>
<meta name="description" content="Ú¯Ø§Ù„Ø±ÛŒ Ø¢Ø«Ø§Ø± Ù†Ø³Ø±ÛŒÙ† Ù‡ÙˆÛŒØ¯Ø§: Ø·Ø±Ø§Ø­ÛŒØŒ Ù‡Ø§Ø´ÙˆØ± Ù…Ø¯Ø±Ù†ØŒ Ø¢Ø¨Ø±Ù†Ú¯ Ùˆ Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ø²Ù†Ø¯Ù‡. Ù†Ù…Ø§ÛŒØ´ ØªØµÙˆÛŒØ±ÛŒØŒ Ù„Ø§ÛŒØªâ€ŒØ¨Ø§Ú©Ø³ Ùˆ Ú†ÛŒØ¯Ù…Ø§Ù† Masonry." />
<style>
  :root{
    --paper:#fbf7f1;
    --card:#ffffff;
    --muted:#606060;
    --warm-1:#c86d3a;
    --warm-2:#f3b37a;
    --radius:14px;
    --gap:16px;
    font-family: "Vazirmatn", "IRANSans", system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  }
  *{box-sizing:border-box}
  body{
    margin:0; background:linear-gradient(180deg,var(--paper), #fff); color:#151515;
    -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; padding:28px;
  }
  .container{max-width:1200px;margin:0 auto;display:grid;grid-template-columns:320px 1fr;gap:22px;align-items:start}
  /* SIDEBAR */
  .sidebar{background:var(--card);padding:18px;border-radius:12px;border:1px solid rgba(0,0,0,0.04);box-shadow:0 8px 20px rgba(0,0,0,0.04)}
  .prof{display:flex;gap:12px;align-items:center}
  .prof img{width:92px;height:92px;border-radius:999px;object-fit:cover;border:3px solid #fff;box-shadow:0 10px 22px rgba(0,0,0,0.06)}
  h1{margin:0;font-size:20px}
  .role{color:var(--muted);font-size:13px;margin-top:2px}
  .bio{margin-top:12px;color:var(--muted);font-size:14px;line-height:1.6}
  .contact{margin-top:14px;color:var(--muted);font-size:13px}
  .contact a{color:var(--warm-1);text-decoration:none}
  .tags{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}
  .tag{background:#fff;padding:7px 10px;border-radius:999px;border:1px solid rgba(0,0,0,0.04);color:var(--muted);font-weight:700;font-size:12px}
  .cats{display:flex;flex-direction:column;gap:10px;margin-top:16px}
  .cat-btn{display:block;text-align:center;padding:10px;border-radius:10px;border:1px solid rgba(0,0,0,0.04);background:linear-gradient(90deg,#fff,#fff);font-weight:700;color:#222;cursor:pointer}
  .cat-btn.active{background:linear-gradient(90deg,var(--warm-1),var(--warm-2));color:white;box-shadow:0 8px 26px rgba(200,100,50,0.12)}
  .download-cv{display:inline-block;margin-top:12px;padding:10px 12px;border-radius:10px;background:linear-gradient(90deg,var(--warm-1),var(--warm-2));color:#fff;text-decoration:none;font-weight:700}
  /* MAIN */
  main{min-height:600px}
  .header-main{margin-bottom:14px;display:flex;align-items:end;justify-content:space-between;gap:12px}
  .title-main{font-size:22px;font-weight:800;margin:0}
  .subtitle{color:var(--muted);font-size:14px}
  /* Masonry-like columns */
  .masonry{column-width: 280px;column-gap: var(--gap);padding-bottom:40px}
  .item{break-inside: avoid;margin:0 0 var(--gap) 0;background:var(--card);border-radius:12px;overflow:hidden;border:1px solid rgba(0,0,0,0.03);box-shadow:0 10px 24px rgba(0,0,0,0.04);transition:transform .18s ease}
  .item:hover{transform:translateY(-6px)}
  .imgwrap{position:relative;width:100%;height:auto;background:linear-gradient(135deg,#fff8f3,#fff)}
  .item img{width:100%;height:auto;display:block;object-fit:cover}
  .caption{padding:10px 12px;font-size:13px;color:var(--muted);min-height:46px}
  .empty{padding:28px;color:var(--muted);text-align:center}
  /* LIGHTBOX */
  .lightbox{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(10,10,10,0.85);z-index:9999;padding:24px}
  .lightbox.show{display:flex}
  .lb-inner{max-width:1200px;width:100%;border-radius:12px;overflow:hidden;background:#0b0b0b;display:flex;flex-direction:column}
  .lb-top{display:flex;align-items:center;justify-content:space-between;padding:10px 14px}
  .lb-top .title{color:#fff;font-weight:800}
  .controls{display:flex;gap:8px}
  .btn{background:transparent;border:0;color:#fff;padding:8px 10px;border-radius:8px;cursor:pointer;font-weight:700}
  .btn.primary{background:var(--warm-1);padding:8px 12px;border-radius:8px}
  .lb-media{display:flex;align-items:center;justify-content:center;background:#000;min-height:60vh}
  .lb-media img{max-width:100%;max-height:82vh;object-fit:contain}
  .lb-caption{padding:12px 16px;color:#dbeeff;background:linear-gradient(90deg,rgba(255,255,255,0.02),transparent);font-size:14px}
  footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px}
  @media (max-width:980px){ .container{grid-template-columns:1fr} .masonry{column-width:220px} }
  @media (max-width:480px){ .masonry{column-width:160px} .prof img{width:76px;height:76px} .caption{font-size:12px} }
  /* small helpful UI */
  .loading{padding:28px;text-align:center;color:var(--muted)}
</style>
</head>
<body>
  <div class="container">
    <!-- SIDEBAR -->
    <aside class="sidebar" aria-label="Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù‡Ù†Ø±Ù…Ù†Ø¯">
      <div class="prof">
        <img id="profileImg" src="nasrin_profile.jpg" alt="Ù†Ø³Ø±ÛŒÙ† Ù‡ÙˆÛŒØ¯Ø§">
        <div>
          <h1>Ù†Ø³Ø±ÛŒÙ† Ù‡ÙˆÛŒØ¯Ø§</h1>
          <div class="role">Ø·Ø±Ø§Ø­ Ùˆ Ù…Ø¯Ø±Ø³ Ø·Ø±Ø§Ø­ÛŒ Ø¢Ú©Ø§Ø¯Ù…ÛŒÚ©</div>
        </div>
      </div>

      <p class="bio">ØªÙ…Ø±Ú©Ø² Ù…Ù† Ø¨Ø± Ø®Ù„Ù‚ Ø¢Ø«Ø§Ø± Ù†ÙˆØ¢ÙˆØ±Ø§Ù†Ù‡ Ùˆ Ø¢Ù…ÙˆØ²Ø´ Ø·Ø±Ø§Ø­ÛŒ Ø¨Ø§ ØªÙ…Ø±Ú©Ø² Ø¨Ø± Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¯Ù‚ÛŒÙ‚ØŒ Ø³Ø§Ø®ØªØ§Ø± Ùˆ Ø¨ÛŒØ§Ù† Ø´Ø®ØµÛŒ Ø§Ø³Øª. Ø·Ø±Ø§Ø­ÛŒ Ù…Ù† Ø§Ø² Ù¾Ø±ØªØ±Ù‡ ØªØ§ ÙÛŒÚ¯ÙˆØ± Ùˆ Ø¢Ø¨Ø±Ù†Ú¯ Ú¯Ø³ØªØ±Ø¯Ù‡ Ø§Ø³Øª.</p>

      <div class="contact">
        <div>ğŸ“ 09196869919</div>
        <div>âœ‰ï¸ <a href="mailto:nasrin.howaida@gmail.com">nasrin.howaida@gmail.com</a></div>
      </div>

      <div class="tags" aria-hidden="false">
        <span class="tag">Ù¾Ø±ØªØ±Ù‡</span>
        <span class="tag">ÙÛŒÚ¯ÙˆØ±</span>
        <span class="tag">Ø¢Ø¨Ø±Ù†Ú¯</span>
        <span class="tag">Ù‡Ø§Ø´ÙˆØ±</span>
      </div>

      <div class="cats" id="catsContainer" aria-label="Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¢Ø«Ø§Ø±"></div>

      <a class="download-cv" href="#" onclick="alert('Ø¯Ø± ØµÙˆØ±Øª Ù†ÛŒØ§Ø² ÙØ§ÛŒÙ„ Ø±Ø²ÙˆÙ…Ù‡ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯');return false">Ø§Ø±ØªØ¨Ø§Ø· / Ø±Ø²Ø±Ùˆ Ú©Ù„Ø§Ø³</a>
    </aside>

    <!-- MAIN -->
    <main>
      <div class="header-main">
        <div>
          <h2 class="title-main">Ú¯Ø§Ù„Ø±ÛŒ Ø¢Ø«Ø§Ø± â€” Ù†Ø³Ø±ÛŒÙ† Ù‡ÙˆÛŒØ¯Ø§</h2>
          <div class="subtitle">Ø·Ø±Ø§Ø­ÛŒ â€¢ Ø³Ø¨Ú© Ù…Ø¯Ø±Ù† Ù‡Ø§Ø´ÙˆØ± â€¢ Ø®Ù„Ø§Ù‚Ø§Ù†Ù‡ Ùˆ Ø¢Ø¨Ø±Ù†Ú¯ â€¢ Ù…Ø¯Ù„â€ŒÙ‡Ø§ÛŒ Ø²Ù†Ø¯Ù‡ Ùˆ ÙÛŒÚ¯ÙˆØ±Ø§ØªÛŒÙˆ</div>
        </div>
        <div style="align-self:flex-start">
          <button id="downloadAll" class="btn primary" title="Ø¯Ø§Ù†Ù„ÙˆØ¯">Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù†Ù…ÙˆÙ†Ù‡</button>
        </div>
      </div>

      <section id="gallery" class="masonry" aria-live="polite">
        <div class="loading">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¢Ø«Ø§Ø± ...</div>
      </section>
    </main>
  </div>

  <!-- LIGHTBOX -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lb-inner" role="dialog" aria-modal="true">
      <div class="lb-top">
        <div class="title" id="lbTitle"> </div>
        <div class="controls">
          <button class="btn" id="prevBtn">â—€</button>
          <button class="btn" id="nextBtn">â–¶</button>
          <a id="dlBtn" class="btn primary" href="#" download>Ø¯Ø§Ù†Ù„ÙˆØ¯</a>
          <button class="btn" id="closeBtn">âœ•</button>
        </div>
      </div>
      <div class="lb-media"><img id="lbImage" src="" alt=""></div>
      <div class="lb-caption" id="lbCaption"></div>
    </div>
  </div>

<script>
/*
  Ù†Ø³Ø®Ù‡Ù” Ù†Ù‡Ø§ÛŒÛŒ Ú¯Ø§Ù„Ø±ÛŒ:
  - Ø§Ø² manifest.json Ø¯Ø± Ù‡Ø± ÙÙˆÙ„Ø¯Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ (Ø§Ú¯Ø± ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯)
  - Ø§Ú¯Ø± manifest Ù…ÙˆØ¬ÙˆØ¯ Ù†Ø¨ÙˆØ¯ØŒ Ø¯Ùˆ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù† Ø§Ø¬Ø±Ø§ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯:
      1) Ø§Ø³Ú©Ù† Ø¹Ø¯Ø¯ÛŒ Ø³Ø§Ø¯Ù‡ (1.jpg..N.jpg)
      2) Ø§Ø³Ú©Ù† Ø§Ù„Ú¯ÙˆÛŒ Ù†Ø§Ù…â€ŒÙ‡Ø§ÛŒ Ø·ÙˆÙ„Ø§Ù†ÛŒ (Ø§Ù„Ú¯ÙˆÛŒ Ø¢Ù¾Ù„ÙˆØ¯Ù‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ)
  - Ù…Ø³ÛŒØ±Ù‡Ø§ Ø¨ØµÙˆØ±Øª Ø±ÙˆØªÛŒ `/FolderName/file.jpg` Ø®ÙˆØ§Ù†Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ (Ù…Ù‡Ù…)
*/

/* Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§ â€” Ø§Ø³Ù… ÙÙˆÙ„Ø¯Ø±Ù‡Ø§ Ø¨Ø§ÛŒØ¯ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ù‡Ù…ÛŒÙ† Ø¨Ø§Ø´Ù†Ø¯ */
const categories = [
  { key: "Tarahi", title: "Ø·Ø±Ø§Ø­ÛŒ", folder: "Tarahi" },
  { key: "Modern_Hashour", title: "Ø³Ø¨Ú© Ù…Ø¯Ø±Ù† Ù‡Ø§Ø´ÙˆØ±", folder: "Modern_Hashour" },
  { key: "Khalaghane_Abrang", title: "Ø®Ù„Ø§Ù‚Ø§Ù†Ù‡ Ùˆ Ø¢Ø¨Ø±Ù†Ú¯", folder: "Khalaghane_Abarang" },
  { key: "Model_Figurative", title: "Ù…Ø¯Ù„ Ù‡Ø§ÛŒ Ø²Ù†Ø¯Ù‡ Ùˆ ÙÛŒÚ¯ÙˆØ±Ø§ØªÛŒÙˆ", folder: "Model_Figurative" },
];

const galleryEl = document.getElementById('gallery');
const catsContainer = document.getElementById('catsContainer');

const MAX_SCAN = 40;                 // Ø¨Ø±Ø§ÛŒ Ø§Ø³Ú©Ù† Ø¹Ø¯Ø¯ÛŒ (Ù¾Ø´ØªÛŒØ¨Ø§Ù†)
const LONGNAME_START = 46260;       // Ø¯Ø§Ù…Ù†Ù‡Ù” Ø§Ø³Ú©Ù† Ø§Ù„Ú¯ÙˆÛŒ Ø·ÙˆÙ„Ø§Ù†ÛŒ (Ù¾Ø´ØªÛŒØ¨Ø§Ù†)
const LONGNAME_END = 46400;
const exts = ["jpg","jpeg","png","webp"];

const images = {}; // images[catKey] = [{src, title, filename}, ...]

/* Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ */
categories.forEach((c, i) => {
  const btn = document.createElement('button');
  btn.textContent = c.title;
  btn.className = 'cat-btn' + (i===0 ? ' active' : '');
  btn.onclick = () => {
    document.querySelectorAll('.cat-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    renderCategory(c.key);
  };
  catsContainer.appendChild(btn);
});

/* Ú©Ù…Ú©: Ø³Ø§Ø®Øª Ù…Ø³ÛŒØ± ØµØ­ÛŒØ­ (Ø±ÙˆØª Ø³Ø§ÛŒØª) */
function buildPath(folder, filename){
  // path is root-based: /FolderName/file.ext
  return `/${encodeURIComponent(folder)}/${encodeURIComponent(filename)}`;
}

/* ØªÙ„Ø§Ø´ Ø¨Ø±Ø§ÛŒ Ù„ÙˆØ¯ ØªØµÙˆÛŒØ± (Ø¨Ø±Ø§ÛŒ Ú†Ú© ÙˆØ¬ÙˆØ¯) */
function tryLoad(src){
  return new Promise(resolve=>{
    const img = new Image();
    img.onload = ()=> resolve({ok:true, src});
    img.onerror = ()=> resolve({ok:false, src});
    img.src = src;
  });
}

/* Ø§Ø³Ú©Ù† ÛŒÚ© Ù¾ÙˆØ´Ù‡: Ø§Ø¨ØªØ¯Ø§ manifest.jsonØŒ Ø§Ú¯Ø± Ù†Ø¨ÙˆØ¯ -> fallback */
async function scanFolder(catKey){
  const cat = categories.find(c=>c.key===catKey);
  images[catKey] = [];

  // 1) try manifest.json from the folder root
  try {
    const manifestPath = buildPath(cat.folder, 'manifest.json');
    const r = await fetch(manifestPath);
    if(r.ok){
      const list = await r.json();
      for(const fname of list){
        const trialPath = buildPath(cat.folder, fname);
        const res = await tryLoad(trialPath);
        if(res.ok) images[catKey].push({src:trialPath, title:cat.title, filename: fname});
      }
      return;
    }
  } catch(e){
    // ignore errors and continue to fallback scanning
    console.warn('manifest not found or failed to load for', cat.folder);
  }

  // 2) numeric scan (1.jpg ... MAX_SCAN)
  for(let i=1;i<=MAX_SCAN;i++){
    for(const ext of exts){
      const fname = `${i}.${ext}`;
      const path = buildPath(cat.folder, fname);
      const res = await tryLoad(path);
      if(res.ok) images[catKey].push({src:path,title:`${cat.title} â€” ${i}`,filename: fname});
    }
  }

  // 3) longname pattern scan (seen in repo uploads)
  // this tries filenames like 58732074852655_<n>.jpg
  for(let n=LONGNAME_START; n<=LONGNAME_END; n++){
    for(const ext of exts){
      const fname = `58732074852655_${n}.${ext}`;
      const path = buildPath(cat.folder, fname);
      const res = await tryLoad(path);
      if(res.ok) images[catKey].push({src:path,title:`${cat.title} â€” ${n}`,filename: fname});
    }
  }
}

/* Ø§Ø³Ú©Ù† Ù‡Ù…Ù‡Ù” Ù¾ÙˆØ´Ù‡â€ŒÙ‡Ø§ */
async function scanAll(){
  galleryEl.innerHTML = '<div class="loading">Ø¯Ø± Ø­Ø§Ù„ Ø§Ø³Ú©Ù† Ù¾ÙˆØ´Ù‡â€ŒÙ‡Ø§ Ùˆ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªØµØ§ÙˆÛŒØ± ...</div>';
  for(const c of categories){
    await scanFolder(c.key);
  }
  // render first category by default
  renderCategory(categories[0].key);
}

/* Ø±Ù†Ø¯Ø± ÛŒÚ© Ø¯Ø³ØªÙ‡ Ø¯Ø± Ú¯Ø§Ù„Ø±ÛŒ */
function renderCategory(catKey){
  galleryEl.innerHTML = '';
  const arr = images[catKey] || [];
  if(arr.length===0){
    galleryEl.innerHTML = '<div class="empty">ÙØ¹Ù„Ø§Ù‹ ØªØµÙˆÛŒØ±ÛŒ Ø¯Ø± Ø§ÛŒÙ† Ø¯Ø³ØªÙ‡ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª. Ø¨Ø±Ø§ÛŒ ØªØ¬Ø±Ø¨Ù‡Ù” Ø¨Ù‡ØªØ±ØŒ Ù…Ø·Ù…Ø¦Ù† Ø´Ùˆ manifest.json Ø¯Ø± Ù¾ÙˆØ´Ù‡ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ø¯ ÛŒØ§ Ù†Ø§Ù… ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ù…Ø·Ø§Ø¨Ù‚ Ù„ÛŒØ³Øª Ù‡Ø³ØªÙ†Ø¯.</div>';
    return;
  }
  for(let i=0;i<arr.length;i++){
    const it = arr[i];
    const item = document.createElement('article'); item.className='item';
    const wrap = document.createElement('div'); wrap.className='imgwrap';
    const img = document.createElement('img'); img.src = it.src; img.alt = it.filename || it.title; img.loading='lazy';
    wrap.appendChild(img);
    const cap = document.createElement('div'); cap.className='caption'; cap.textContent = it.title;
    item.appendChild(wrap); item.appendChild(cap);
    item.addEventListener('click', ()=> openLightbox(catKey, i));
    galleryEl.appendChild(item);
    img.onerror = ()=> { img.style.display='none'; cap.textContent = '(ØªØµÙˆÛŒØ± Ø¨Ø§Ø±Ú¯Ø²Ø§Ø±ÛŒ Ù†Ø´Ø¯) ' + (it.filename||''); }
  }
}

/* ============ Lightbox ============ */
const lb = document.getElementById('lightbox');
const lbImage = document.getElementById('lbImage');
const lbTitle = document.getElementById('lbTitle');
const lbCaption = document.getElementById('lbCaption');
const dlBtn = document.getElementById('dlBtn');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const closeBtn = document.getElementById('closeBtn');

let current = {cat:null, idx:0};
function openLightbox(catKey, idx){
  const arr = images[catKey] || []; if(!arr[idx]) return;
  current.cat = catKey; current.idx = idx;
  const it = arr[idx];
  lbImage.src = it.src;
  lbTitle.textContent = categories.find(c=>c.key===catKey).title;
  lbCaption.textContent = it.filename || '';
  dlBtn.href = it.src;
  lb.classList.add('show'); document.body.style.overflow='hidden';
}
function closeLightbox(){ lb.classList.remove('show'); lbImage.src=''; document.body.style.overflow=''; }
function showNext(){ const arr = images[current.cat]||[]; if(!arr.length) return; current.idx = (current.idx+1)%arr.length; openLightbox(current.cat, current.idx); }
function showPrev(){ const arr = images[current.cat]||[]; if(!arr.length) return; current.idx = (current.idx-1+arr.length)%arr.length; openLightbox(current.cat, current.idx); }

nextBtn.addEventListener('click', showNext);
prevBtn.addEventListener('click', showPrev);
closeBtn.addEventListener('click', closeLightbox);
lb.addEventListener('click', e=> { if(e.target === lb) closeLightbox(); });
document.addEventListener('keydown', e=> { if(!lb.classList.contains('show')) return; if(e.key==='ArrowRight') showNext(); if(e.key==='ArrowLeft') showPrev(); if(e.key==='Escape') closeLightbox(); });

/* Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø³Ø§Ø¯Ù‡: Ù„ÛŒÙ†Ú© Ø§ÙˆÙ„ÛŒÙ† ØªØµÙˆÛŒØ± Ø¯Ø³ØªÙ‡ (Ø¨Ø±Ø§ÛŒ Ø¢Ø±Ø´ÛŒÙˆ zip Ù†ÛŒØ§Ø² Ø¨Ù‡ backend ÛŒØ§ Ø³Ø§Ø®Øª zip Ø¯Ø³ØªÛŒ) */
document.getElementById('downloadAll').addEventListener('click', ()=>{
  const active = document.querySelector('.cat-btn.active');
  if(!active){ alert('Ø§Ø¨ØªØ¯Ø§ ÛŒÚ© Ø¯Ø³ØªÙ‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.'); return; }
  const idx = Array.from(document.querySelectorAll('.cat-btn')).indexOf(active);
  const key = categories[idx].key;
  const arr = images[key] || [];
  if(arr.length===0){ alert('Ù‡ÛŒÚ† ØªØµÙˆÛŒØ±ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª.'); return; }
  // Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§ÙˆÙ„ÛŒÙ† ØªØµÙˆÛŒØ± Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ù†Ù…ÙˆÙ†Ù‡
  location.href = arr[0].src;
});

/* Ø´Ø±ÙˆØ¹ Ø§Ø³Ú©Ù† Ùˆ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ */
scanAll();
</script>
</body>
</html>
